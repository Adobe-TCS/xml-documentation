Post Generation Workflow - Unarchiver
========
This folder contains all information to setup Unarchive Post Generation Workflow


What does this do?
-------------------------
1. This can be used as a post generation workflow to grab the zip file generated by publishing output => transfer it to a file system location => and unzip it with the same name
2. Destination file location can be defined on the workflow step itself

Compatibility
-------------
This implementation is tested for following versions for AEM and XML Documentation
1. AEM : 6.4.3 and 6.3.x
2. XML Documentation: 3.4


Setup
----
1. Download the zip file from generated-packages folder - containing the workflow model - named: "DITA File Transfer/Unarchiver Post Generation Process"
2. Install this package on the server => you will then notice the workflow under workflow models
3. Open the workflow and edit the step “Unarchive Zip File” and go to process tab to update the destination location (as desired)
   
```
   Parameter comprises of two parts separated by | (pipe) symbol. 
    <file system location>|<UNZIP or MOVE>, 
    Use UNZIP to perform Unarchive, and MOVE to move it to another location on AEM DAM
```
4. Save the workflow
5. Now you can either install the bundle aempoc-unarchiver-bundle-1.0-SNAPSHOT.jar from generated-packages folder or build the package using this maven project under folder "unarchiver_postgenerationwf"

How to Test?
-----------
1. Open a ditamap for which html5 output needs to be tested and go to “Output Presets” tab
2. Click on preset that generates a zip and for which post generation workflow needs to be setup (e.g. HTML5), and click Edit
3. On Edit Screen, check the option to “Run post generation workflow” and from drop down next to it choose the option “DITA File Transfer/Unarchiver Post Generation Process” , and save the changes 

Generating output and exporting the content
-------------------------------------------
Generate the HTML5 output and you should get the zip file downloaded to destination location as mentioned in workflow step, and this process will also unzip the contents to the same destination location


